\hypertarget{_event_base_8h_source}{}\doxysection{Event\+Base.\+h}
\label{_event_base_8h_source}\index{D:/TL/Vscode/VsCode\_C/Learn\_opengl/src/Engine/Framework/Events/EventBase.h@{D:/TL/Vscode/VsCode\_C/Learn\_opengl/src/Engine/Framework/Events/EventBase.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include "{}TLCore.h"{}}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{4 }
\DoxyCodeLine{8 \textcolor{keyword}{enum class} EventType}
\DoxyCodeLine{9 \{}
\DoxyCodeLine{10     None = 0,}
\DoxyCodeLine{11     WindowClose,}
\DoxyCodeLine{12     WindowResize,}
\DoxyCodeLine{13     WindowFocus,}
\DoxyCodeLine{14     WindowLostFocus,}
\DoxyCodeLine{15     WindowMoves,}
\DoxyCodeLine{16     AppTick,}
\DoxyCodeLine{17     AppUpdate,}
\DoxyCodeLine{18     AppRender,}
\DoxyCodeLine{19     KeyPressed,}
\DoxyCodeLine{20     KeyReleased,}
\DoxyCodeLine{21     MouseButtonPressed,}
\DoxyCodeLine{22     MouseButtonReleased,}
\DoxyCodeLine{23     MouseMoved,}
\DoxyCodeLine{24     MouseScrolled}
\DoxyCodeLine{25 \};}
\DoxyCodeLine{26 }
\DoxyCodeLine{30 \textcolor{keyword}{enum} EventCategory}
\DoxyCodeLine{31 \{}
\DoxyCodeLine{32     None = 0,}
\DoxyCodeLine{33     EventCategoryApplication = BIT(0),}
\DoxyCodeLine{34     EventCategoryInput = BIT(1),}
\DoxyCodeLine{35     EventCategoryKeyboard = BIT(2),}
\DoxyCodeLine{36     EventCategoryMouse = BIT(3),}
\DoxyCodeLine{37     EventCategoryMouseButton = BIT(4)}
\DoxyCodeLine{38 \};}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 \textcolor{preprocessor}{\#define EVENT\_CLASS\_TYPE(type)                                                  \(\backslash\)}}
\DoxyCodeLine{41 \textcolor{preprocessor}{    static EventType GetStaticType() \{ return EventType::\#\#type; \}              \(\backslash\)}}
\DoxyCodeLine{42 \textcolor{preprocessor}{    virtual EventType GetEventType() const override \{ return GetStaticType(); \} \(\backslash\)}}
\DoxyCodeLine{43 \textcolor{preprocessor}{    virtual const char *GetName() const override \{ return \#type; \}}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{preprocessor}{\#define EVENT\_CLASS\_CATEGORY(category) \(\backslash\)}}
\DoxyCodeLine{46 \textcolor{preprocessor}{    virtual int GetCategoryFlags() const override \{ return category; \}}}
\DoxyCodeLine{47 }
\DoxyCodeLine{51 \textcolor{keyword}{class }\mbox{\hyperlink{class_event_base}{EventBase}}}
\DoxyCodeLine{52 \{}
\DoxyCodeLine{53 \textcolor{keyword}{public}:}
\DoxyCodeLine{54 }
\DoxyCodeLine{55     \textcolor{keyword}{virtual} \textcolor{keyword}{const} \textcolor{keywordtype}{char}* GetName() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \textcolor{keyword}{virtual} EventType GetEventType() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{58 }
\DoxyCodeLine{59     \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} GetCategoryFlags() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{60 }
\DoxyCodeLine{61     \textcolor{keyword}{virtual} std::string ToString()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} GetName(); \};}
\DoxyCodeLine{62 }
\DoxyCodeLine{66     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_event_base_a9b1afd36cc9f9b406718e4546efed6fc}{IsInCategory}}(EventCategory category)}
\DoxyCodeLine{67     \{}
\DoxyCodeLine{68         \textcolor{keywordflow}{return} GetCategoryFlags() \& category;}
\DoxyCodeLine{69     \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     \textcolor{keywordtype}{bool} mHandled = \textcolor{keyword}{false};}
\DoxyCodeLine{72 \};}
\DoxyCodeLine{73 }
\DoxyCodeLine{77 \textcolor{keyword}{class }\mbox{\hyperlink{class_event_dispatcher}{EventDispatcher}}}
\DoxyCodeLine{78 \{}
\DoxyCodeLine{79     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{80     \textcolor{keyword}{using }EventFn = std::function<bool(T\&)>;}
\DoxyCodeLine{81 }
\DoxyCodeLine{82 \textcolor{keyword}{public}:}
\DoxyCodeLine{83     \mbox{\hyperlink{class_event_dispatcher}{EventDispatcher}}(\mbox{\hyperlink{class_event_base}{EventBase}}\& event) : mEvent(event) \{\}}
\DoxyCodeLine{84     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{85 }
\DoxyCodeLine{89     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_event_dispatcher_aa52657a74c2be46ec503b3ad8fc469d1}{Dispatch}}(EventFn<T> func)}
\DoxyCodeLine{90     \{}
\DoxyCodeLine{91         \textcolor{keywordflow}{if} (mEvent.GetEventType() == T::GetStaticType())}
\DoxyCodeLine{92         \{}
\DoxyCodeLine{93             mEvent.mHandled = func(*(T*)\&mEvent);}
\DoxyCodeLine{94             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{95         \}}
\DoxyCodeLine{96         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{97     \}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99 \textcolor{keyword}{private}:}
\DoxyCodeLine{100     \mbox{\hyperlink{class_event_base}{EventBase}}\& mEvent;}
\DoxyCodeLine{101 \};}

\end{DoxyCode}
